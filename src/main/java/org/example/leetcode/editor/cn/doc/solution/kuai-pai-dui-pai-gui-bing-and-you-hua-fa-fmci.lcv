## é¢˜ç›®

![image.png](https://pic.leetcode-cn.com/1630629763-vsTrWE-image.png)

<br> </br>

***

## æ€è·¯

**è¿™é¢˜è¡¨é¢ä¸Šä¸€çœ‹ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ•°ç»„æ’åºé—®é¢˜**

**ç®€å•æ€è·¯ï¼š`å°†æ•°ç»„æ’åºåï¼Œå»ºç«‹é•¿åº¦ä¸ºkçš„æ•°ç»„ï¼Œå°†åŸæ•°ç»„å‰kä¸ªå…ƒç´ èµ‹ç»™æ–°æ•°ç»„ï¼Œç„¶åè¿”å›ã€‚`**

**æ€è·¯è™½ç®€å•ï¼Œä½†æ˜¯åƒä¸‡ä¸å¯è°ƒç”¨ä»€ä¹ˆå·²æœ‰çš„æ–¹æ³•è¿›è¡Œæ’åºï¼Œæ¯”å¦‚ï¼š`Arrays.sort()`ï¼Œè¿™æ˜¯Javaçš„ï¼Œç›¸ä¿¡å…¶ä»–è¯­è¨€åº”è¯¥ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•**

> **é‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼šä¸å¯ä»¥è°ƒç”¨å·²æœ‰æ–¹æ³•ï¼ä¸å¯ä»¥è°ƒç”¨å·²æœ‰æ–¹æ³•ï¼ä¸å¯ä»¥è°ƒç”¨å·²æœ‰æ–¹æ³•ï¼**

**ğŸŒˆä¸ºä»€ä¹ˆï¼Ÿ**

**å› ä¸ºè¿™æ˜¯é¢è¯•é¢˜å•ŠğŸ¤£ï¼Œé¢è¯•å®˜å‡ºè¿™ç§é¢˜ç›®ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯è®©ä½ æ‰‹å†™æ’åºç®—æ³•ï¼Œä¾‹å¦‚ï¼š`å¿«æ’ã€å †æ’ã€å½’å¹¶`ï¼Œå¦‚æœå†™å‡ºæ¥çš„è¯ï¼Œè¯´ä¸å®šè¿˜è®©ä½ ä¼˜åŒ–ğŸ˜‰**

<br> </br>

**ä¸‹é¢ç»™å¤§å®¶æä¾›å¸¸è§æ’åºç®—æ³•é¢˜è§£å’Œä¼˜åŒ–ä»£ç ï¼Œè§‰å¾—ä¸é”™çš„å°ä¼™ä¼´å¯ä»¥ç»™ä¸ªğŸ’–å“¦ğŸ˜**

<br> </br>

***

## ä»£ç 

***

### å¿«æ’

* java

```java
class Solution {
    public int[] smallestK(int[] arr, int k) {
        quickSort(arr,k,0,arr.length - 1);
        int[] res = new int[k];
        for (int i = 0; i < k; i++) {
            res[i] = arr[i];
        }
        return res;
    }

    public void quickSort(int[] arr, int k,int start,int end) {
        if (start < end) {
            int mid = getMiddle(arr,start,end);
            quickSort(arr,k,start,mid - 1);
            quickSort(arr,k,mid + 1,end);
        }
    }

    private int getMiddle(int[] arr, int start, int end) {
        int left = start,right = end;
        int mid = arr[left];
        
        while (left < right) {
            while (left < right && arr[right] >= mid) {
                right--;
            }
            arr[left] = arr[right];
            while (left < right && arr[left] <= mid) {
                left++;
            }
            arr[right] = arr[left];
        }
        arr[left] = mid;
        
        return left;
    }
}
```

![image.png](https://pic.leetcode-cn.com/1630629874-wDpSec-image.png)

<br> </br>

***

### å¿«æ’åˆ†åŒºæ€æƒ³ï¼ˆä¼˜åŒ–ï¼‰

* java

```java
class Solution {

    public int[] smallestK(int[] arr, int k) {
        quickSort(arr,0,arr.length - 1,k - 1);
        int[] res = new int[k];
        int i = 0;
        while(i < k) {
            res[i] = arr[i];
            i++;
        }
        return res;
    }

    private void quickSort(int[] nums,int start,int end,int k) {
        if(start >= end) return;

        int mid = getMiddle(nums,start,end);
        if(mid == k) {
            return;
        }
        if(k > mid) {
            quickSort(nums,mid + 1,end,k);
        }else {
            quickSort(nums,start,mid - 1,k);
        }
    }

    private int getMiddle(int[] nums,int start,int end) {
        
        int left = start,right = end;
        int mid = nums[left];

        while(left < right) {
            while(left < right && nums[right] >= mid) {
                right--;
            }
            nums[left] = nums[right];
            while(left < right && nums[left] <= mid) {
                left++;
            }
            nums[right] = nums[left];
        }
        nums[left] = mid;
        return left;
    }
}
```

![image.png](https://pic.leetcode-cn.com/1630629793-sDTwNK-image.png)

<br> </br>

***

### å †æ’åº

* java

```java
class Solution {
    public int[] smallestK(int[] arr, int k) {
        heapSort(arr,arr.length);
        int[] res = new int[k];
        for (int i = 0; i < k; i++) {
            res[i] = arr[i];
        }
        return res;
    }

    public static void heapSort(int[] arr,int heapSize) {
        //ä¸Šæµ®
        for (int i = heapSize / 2 - 1; i >= 0; i--) {
            builderHeap(arr,i,arr.length);
        }

        //ä¸‹æ²‰
        for (int i = heapSize - 1; i >= 0; i--) {
            swap(arr,0,i);
            builderHeap(arr,0,i);
        }

    }

    private static void swap(int[] arr, int i, int j) {
        int tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }


    private static void builderHeap(int[] arr, int index, int length) {

        //å½“å‰èŠ‚ç‚¹
        int tmp = arr[index];
        //å·¦å­èŠ‚ç‚¹
        for (int i = index * 2 + 1; i < length; i = i * 2 + 1) {
            //å¦‚æœå³å­èŠ‚ç‚¹å€¼å¤§äºå·¦å­èŠ‚ç‚¹
            if (i + 1 < length && arr[i + 1] > arr[i]) {
                i++;
            }

            //å¦‚æœå·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹çš„æœ€å¤§å€¼å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œäº¤æ¢
            if (arr[i] > tmp) {
                arr[index] = arr[i];
                index = i;
            }else
                break;
        }
        arr[index] = tmp;
    }
}
```

![image.png](https://pic.leetcode-cn.com/1630630881-bJcVxD-image.png)

<br> </br>

***

### å †æ’åºï¼ˆä¼˜åŒ–ï¼‰â€”â€”>æ„é€ å›ºå®šå †

* java

```java
class Solution {

    public int[] smallestK(int[] arr, int k) {
        if(k == 0) return new int[0];
        return topK(arr,k);
    }

    private static int[] topK(int[] data, int k) {
        int[] topK = new int[k];

        //æ„é€ å›ºå®šå¤§å°å †
        for (int i = 0; i < k; i++) {
            topK[i] = data[i];
        }

        //
        buildHeap(topK);

        for (int i = k; i < data.length; i++) {
            int root = topK[0];
            if (data[i] < root) {
                //å¦‚æœdataå…ƒç´ å¤§äºå †é¡¶å…ƒç´ ï¼Œæ”¾å…¥å †ä¸­ï¼Œæ›¿æ¢å †é¡¶å…ƒç´ ï¼Œå¹¶é‡æ–°æ„å»ºå°æ ¹å †
                topK[0] = data[i];
                heapify(topK,0,topK.length);
            }
        }
        return topK;
    }

    private static void buildHeap(int[] data) {
        //ä»æœ€åä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡å¼€å§‹éå†   å­æ¨çˆ¶ï¼š(data.length - 1 - 1)/2
        int heapSize = data.length;
        for (int i = heapSize / 2 - 1; i >= 0; i--) {
            heapify(data,i,heapSize);
        }
    }

    private static void heapify(int[] arr,int index,int len) {
        int tmp = arr[index];

        for (int i = index * 2 + 1; i < len; i = i * 2 + 1) {
            if (i + 1 < len && arr[i + 1] > arr[i]) {
                i += 1;
            }
            if (arr[i] > tmp) {
                arr[index] = arr[i];
                index = i;
            }else
                break;
        }
        arr[index] = tmp;
    }
}
```

![image.png](https://pic.leetcode-cn.com/1630630905-YHFTns-image.png)

<br> </br>

***

### å½’å¹¶æ’åº

* java

```java
class Solution {

    int[] tmp;

    public int[] smallestK(int[] arr, int k) {
        if(k == 0) return new int[0];
        tmp = new int[arr.length];

        mergeSort(arr,0,arr.length - 1);
        
        int[] res = new int[k];
        for (int i = 0; i < k; i++) {
            res[i] = arr[i];
        }
        return res;
    }

    private void mergeSort(int[] nums, int start, int end) {
        if (start >= end) return;

        //ä»¥midä¸ºä¸­å¿ƒå°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªæ•°ç»„
        int mid = start + (end - start) / 2;
        mergeSort(nums,start,mid);
        mergeSort(nums,mid + 1,end);

        int i = start,j = mid + 1;
        int cnt = 0;

        //å°†ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ•°æ®ï¼Œä»å°åˆ°å¤§æ’åºï¼Œç”¨tmpæ•°ç»„ä¿å­˜
        while (i <= mid && j <= end) {
            if (nums[i] <= nums[j]) {
                tmp[cnt++] = nums[i++];
            }else {
                tmp[cnt++] = nums[j++];
            }
        }


        while (i <= mid) {
            tmp[cnt++] = nums[i++];
        }
        while (j <= end) {
            tmp[cnt++] = nums[j++];
        }

        //å°†tmpä¸­æ’å¥½çš„æœ‰åºæ•°æ®åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå†™å›ç»™ nums
        for (int k = 0; k < end - start + 1; k++) {
            nums[k + start] = tmp[k];
        }

    }
}
```

<br> </br>

***

## ğŸ’–æœ€å

[æˆ‘çš„ä¸»é¡µâ€”â€”>ï¼šCodeçš®çš®è™¾](https://leetcode-cn.com/u/codeppx/) ä¸€ä¸ªæ²™é›•è€Œåˆæœ‰è¶£çš„æ†¨æ†¨å°‘å¹´ï¼Œå’Œå¤§å¤šæ•°å°ä¼™ä¼´ä»¬ä¸€æ ·å–œæ¬¢å¬æ­Œã€æ¸¸æˆï¼Œå½“ç„¶é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å†™ä½œçš„å…´è¶£ï¼Œemm...ï¼Œæ—¥å­è¿˜å¾ˆé•¿ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹åŠªåŠ›å­ğŸŒˆ

> **å¦å¤–ï¼Œå¦‚æœæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œå†…æ¶µæ›´å¤šä¼˜è´¨åšæ–‡ï¼ŒæœŸå¾…æ‚¨çš„å…³æ³¨[ğŸ™‹â€â™‚ï¸ç‚¹æˆ‘ç‚¹æˆ‘](https://mp.weixin.qq.com/s?__biz=MzIzMjUzMTM0NA==&mid=100001865&idx=1&sn=5b556af8ecedb966c7175380eaaf33d2&chksm=68923cb65fe5b5a0d1fee0b4b41f7dc0048ffcacb27b004adee57d2cf83)**

![image.png](https://pic.leetcode-cn.com/1630630262-BpDFHC-image.png)
